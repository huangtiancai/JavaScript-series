
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>JavaScript 数组</title>
	</head>
	<body>


		<p id="demo"></p>


		<script>
			//一、数组简介
			// 数组（Array）是属于内置对象，我们可以在MDN网站上查询各种方法。

			// 数组和普通对象的功能类似，也是用来存储一些值的。不同的是：
			// 普通对象是使用字符串作为属性名的，而数组是使用数字来作为索引来操作元素。索引：从0开始的整数就是索引。
			// 数组的存储性能比普通对象要好。在实际开发中我们经常使用数组来存储一些数据，使用频率非常高。

			//数组的基本操作
			//1.创建数组对象
			//字面量定义
			var arr1 = [1,2,3];//数组的类型其实也是属于对象。

			//对象定义（数组的构造函数）
			//var arr2 = new Array(参数);
			var arr2 = new Array("hello","js");

			var arr3 = new Array();//参数空

			var arr4 = new Array(4);//参数位置是一个数值时，表示数组长度	

			var arr5 = new Array(12,13,14);

			console.log(typeof arr1);//object

			console.log("arr1 = "+JSON.stringify(arr1));
			console.log("arr2 = "+JSON.stringify(arr2));
			console.log("arr3 = "+JSON.stringify(arr3));
			console.log("arr4 = "+JSON.stringify(arr4));
			console.log("arr5 = "+JSON.stringify(arr5));

			//打印：
			// object
			// arr1 = [1,2,3]
			// arr2 = ["hello","js"]
			// arr3 = []
			// arr4 = [null,null,null,null]
			// arr5 = [12,13,14]
			
			//2.向数组中添加元素
			//	语法:数组[索引] = 值
			var arr6 = [];
			arr6[0] = 10;
			arr6[1] = 11;
			arr6[2] = 12;
			arr6[3] = 13;

			console.log(arr6);

			//3.获取数组中的元素
			//	语法:数组[索引]
			//数组的索引代表的是数组中的元素在数组中的位置，从0开始。如果读取不存在的索引（比如元素没那么多），系统不会报错，而是返回undefined。
			var arr7 = [14,15,16,17];
			console.log(arr7[1]);
			console.log(arr7[4]);

			//4.改变数组元素
			arr7[0] = "haha";
			console.log(arr7[0]);

			//数组属性和方法
			//5.获取数组的长度
			//可以使用length属性来获取数组的长度(元素的个数)。
			//语法：
			//数组的长度 = 数组名.length；
			var arr8 = [1,2,3,4,5,6]
			console.log("arr8数组的长度："+arr8.length);
			console.log("arr8的第一个元素："+arr8[0]);
			console.log("arr8的最后一个元素："+arr8[arr8.length-1]);

			//6.修改数组的长度（修改length）
			//如果修改的length大于原长度，则多出部分会空出来，置为 null。
			//如果修改的length小于原长度，则多出的元素会被删除，数组将从后面删除元素。
			//（特例：伪数组arguments的长度可以修改，但是不能修改里面的元素，后面单独讲。）

			//代码举例：
			var arr9 = [11,12,13];
			var arr10 = [21,22,23];

			arr9.length = 1;
			arr10.length = 4;

			console.log(JSON.stringify(arr9));
			console.log(JSON.stringify(arr10));

			//打印
			//[11]
			//[21,22,23,null]


			//二、数组的四个基本方法&数组的遍历
			//数组的四个基本方法如下：
			// push() 		向数组的最后面插入一个或多个元素，返回结果为该数组新的长度		 会改变原数组
			// pop() 		删除数组中的最后一个元素，返回结果为被删除的元素				会改变原数组
			// unshift() 	在数组最前面插入一个或多个元素，返回结果为该数组新的长度 	     会改变原数组
			// shift() 		删除数组中的第一个元素，返回结果为被删除的元素 					 会改变原数组
			//遍历数组的方法如下：
			// for循环 
			// forEach() 	和 for循环类似，但需要兼容IE8以上 forEach() 没有返回值。也就是说，它的返回值是 undefined
			// filter() 	返回结果是true的项，将组成新的数组。可以起到过滤的作用 不会改变原数组
			// map() 		对原数组中的每一项进行加工
			// every() 		如果有一项返回false，则停止遍历 意思是，要求每一项都返回true，最终的结果才返回true
			// some() 		只要有一项返回true，则停止遍历


			//遍历实例(在html标签拼接应用较多)
			var fruits,text,i;
			fruits = ["banana","apple","orange","mango"];
			text = '<ul>';
			
			for(i=0;i<fruits.length;i++){
				text += '<li>' + fruits[i] + '</li>';
			}

			text += '</ul>'; // text = text + '</ul>';

			document.getElementById("demo").innerHTML = text;

			//1.数组的四个基本方法（数组元素的添加和删除）
			//push(插入)、pop(删除)、unshfit(插入)、shift(删除)

			//push()：向数组的最后面插入一个或多个元素，返回结果为该数组新的长度
			//语法：数组的新长度 = 数组.push(元素);

			var array = ["王一","王二","王三"];
			var result1 = array.push("王四");
			var result2 = array.push("王五","王六");

			console.log("result1:"+result1);//4
			console.log("result2:"+result2);//6
			console.log(JSON.stringify(array));//["王一","王二","王三","王四","王五","王六"]

			//pop()：删除数组中的最后一个元素，返回结果为被删除的元素。
			//语法：被删除的元素 = 数组.pop();
			var array1 = ["王一","王二","王三"];
			var result3 = array1.pop();
			console.log("result3:"+result3);//王三
			console.log(JSON.stringify(array1));//["王一","王二"]

			//unshift():在数组最前面插入一个或多个元素，返回结果为该数组新的长度。插入元素后，其他元素的索引会依次调整。
			//语法：数组的新长度 = 数组.unshift(元素);
			var array2 = ["王一","王二","王三"];
			var result4 = array2.unshift("王四");
			var result5 = array2.unshift("王五","王六");

			console.log("result4:"+result4);//4
			console.log("result5:"+result5);//6
			console.log(JSON.stringify(array2));//["王五","王六","王四","王一","王二","王三"]

			//shift()
			//shift()：删除数组中的第一个元素，返回结果为被删除的元素
			//语法：被删除的元素 = 数组.shift();
			var array3 = ["王一","王二","王三"];
			var result6 = array3.shift();
			console.log("result6:"+result6);//王一
			console.log(JSON.stringify(array3));//["王二","王三"]


			//2.数组的遍历
			//遍历数组即：获取并操作数组中的每一个元素。使用得非常频繁。
			//遍历数组的方法包括：for、forEach()、every()、filter()、map()、some()

			//for循环 遍历
			var array4 = ["王一","王二","王三"];
			for(i=0;i<array4.length;i++){
				console.log("数组array第"+parseInt(i+1)+"个元素为："+array4[i]);
			}
			console.log(array4);
			console.log(array4.__proto__);

			//foeEach遍历
			//forEach() 这种遍历方法只支持IE8以上的浏览器。IE8及以下的浏览器均不支持该方法。所以如果需要兼容IE8，则不要使用forEach，改为使用for循环来遍历即可。
			//forEach()方法需要一个函数作为参数。这种函数，是由我们创建但是不由我们调用的，我们称为回调函数。
			//数组中有几个元素，该回调函数就会执行几次。执行完毕后，浏览器会将遍历到的元素

			// 回调函数中传递三个参数：
			// 第一个参数，就是当前正在遍历的元素
			// 第二个参数，就是当前正在遍历的元素的索引
			// 第三个参数，就是正在遍历的数组
			var array5 = ["王一","王二","王三"];
			console.log(array5);
			array5.forEach(function(item,index,obj){
				console.log("item:"+item);
				console.log("index:"+index);
				console.log("obj:"+obj);
				console.log("---------");
			});


			//注意，forEach() 的返回值是 undefined
			var temArray = array5.forEach(function(item,index,obj){ });
			console.log("temArray:"+temArray);//undefined

			//filter()
			//语法：Array.prototype.filter(function(item, index){})
			//解释：对数组中每一项运行回调函数，该函数返回结果是true的项，将组成新的数组（返回值就是这个新的数组）

			//举例1：找出数组 array6 中大于4的元素，返回一个新的数组。代码如下：
			var array6 = [1, 3, 6, 2, 5, 6];
			var newArray6 = array6.filter(function(item,index){
				return item>4;	
			});
			console.log(newArray6);//[6, 5, 6]

			//举例2
			var array7 = ["千古", "宿敌", "南山忆", "素颜"];
			var newArray7 = array7.filter(function(item,index,array){
				if(item.length>2){//array7中的元素，如果长度超过2个字符的，就把他放进array8
					return true; 	//函数返回结果是true,将当前索引下的元素添加到新的数组

				}
				return false; //函数返回结果是false,不会将当前索引下的元素添加到新的数组
			});
			console.log(array7);
			console.log(newArray7);

			//直接运行到下一断点:F8
			//单步运行:F10
			//进入函数体内运行:F11
			//返回函数执行结果:shift+F11
			
			//map()方法
			//解释：对数组中每一项运行回调函数，返回该函数的结果，组成的新数组（返回的是加工之后的新数组）。
			//比如说，有一个已知的数组array8，我要求让array8中的每个素加10，这里就可以用到map方法。举例：
			//举例1：让array8中的每个元素加10，放到newArray8中
			var array8 = [1,2,3,4,5];
			var newArray8 = array8.map(function(item,index){
				return item+10;
			});
			console.log(array8);
			console.log(newArray8);
			
			//举例2:给array9中所有的元素增加字符串"vae"，放到newArray9中
			var array9 = ["千古", "宿敌", "南山忆", "素颜"];
			var newArray9 = array9.map(function(item,index){
				return item+'-vae';
			});
			console.log(array9);
			console.log(newArray9);

			//every()方法
			//解释：对数组中每一项运行回调函数，如果都返回true，every就返回true；如果有一项返回false，则停止遍历，此方法返回false。
			//注意：every()方法的返回值是boolean值，参数是回调函数。
			//举例1：只要有一个元素的长度是超过两个字符的，就返回false
			var array10 = ["千古", "宿敌", "南山忆", "素颜"];
			var bool1 = array10.every(function(item,index){
				if(item.length>2){
					return false;
				}
				return true;
			});
			console.log(bool1);

			var array11 = ["千古", "宿敌", "南山", "素颜"];
			var bool2 = array11.every(function(item,index){
				if(item.length>2){
					return false;
				}
				return true;
			});
			console.log(bool2);

			//some()方法
			//解释：对数组中每一项运行回调函数，只要有一项返回true，则停止遍历，此方法返回true。

			
			//三、数组的常见方法
			// slice() 		从数组中提取指定的一个或多个元素，返回结果为新的数组 不会改变原数组
			// splice() 	从数组中删除指定的一个或多个元素，返回结果为新的数组 会改变原数组
			// concat() 	连接两个或多个数组，返回结果为新的数组 不会改变原数组
			// join() 		将数组转换为字符串，返回结果为转换后的字符串 不会改变原数组
			// reverse() 	反转数组，返回结果为反转后的数组 会改变原数组
			// sort() 		对数组的元素,默认按照Unicode编码，从小到大进行排序 会改变原数组
			
			//数组的常见方法:
			//slice()
			//slice()：从数组中提取指定的一个或者多个元素，返回结果为新的数组（不会改变原来的数组）。
			//备注：该方法不会改变原数组，而是将截取到的元素封装到一个新数组中返回。

			//语法：新数组 = 原数组.slice(开始位置的索引, 结束位置的索引); //注意：包含开始索引，不包含结束索引 [)
			var arr = ["a", "b", "c", "d", "e", "f"];
			var re1 = arr.slice(2); //从第二个值开始提取
			var re2 = arr.slice(-2); //提取最后两个元素
			var re3 = arr.slice(2,4);//提取从第二个到第四个之间的值（不包括第四个值）
			var re4 = arr.slice(4,1);//空

			console.log(re1);
			console.log(re2);
			console.log(re3);
			console.log(re4);

			//打印结果：
			// ["c", "d", "e", "f"]
			// ["e", "f"]
			// ["c", "d"]
			// []

			//splice()
			//splice()：从数组中删除指定的一个或多个元素，返回结果为新的数组（会改变原来的数组，会将指定元素从原数组中删除）。
			//语法：新数组 = 原数组.splice(起始索引index, 需要删除的个数, 第三个参数, 第四个参数...);
			//上方语法中，第三个及之后的参数，表示：向原数组中添加新的元素，这些元素将会自动插入到开始位置索引的前面。
			var ar = ["a", "b", "c", "d", "e", "f"];
			var newAr = ar.splice(1); //返回的是剩下元素
			
			console.log("ar: "+JSON.stringify(ar));//删除后剩下的元素
			console.log("newAr: "+JSON.stringify(newAr));//删除掉的元素
			//打印：
			// ar: ["a"]
			// newAr: ["b","c","d","e","f"]

			var ar1 = ["a", "b", "c", "d", "e", "f"];
			var newAr1 = ar1.splice(1,3);//从第index为1的位置开始删除元素,一共删除三个元素,返回的是剩下元素
			console.log("ar1: "+JSON.stringify(ar1));
			console.log("newAr1: "+JSON.stringify(newAr1));
			//打印:
			//newAr1: ["b","c","d"]

			var ar2 = ["a", "b", "c", "d", "e", "f"];
			var newAr2 = ar2.splice(1,3,"千古壹号", "vae");
			console.log("ar2: "+JSON.stringify(ar2));
			console.log("newAr2: "+JSON.stringify(newAr2));
			
			// ar2: ["a","千古壹号","vae","e","f"]
			// newAr2: ["b","c","d"]


			//concat()
			//concat()：连接两个或多个数组，返回结果为新的数组。（不会改变原数组）
			//语法：新数组 = 数组1.concat(数组2, 数组3 ...);

			var shuzu1 = [1,2];
			var shuzu2 = ["a","b","c"];
			var shuzu3 = ["千古", "宿敌", "南山", "素颜"];
			var sz1 = shuzu1.concat(shuzu2);
			var sz2 = shuzu1.concat(shuzu2,shuzu3);

			console.log("shuzu1 ="+shuzu1);
			console.log("shuzu2 ="+shuzu2);
			console.log("shuzu3 ="+shuzu3);
			console.log("sz1 ="+sz1);
			console.log("sz2 ="+sz2);
			//打印：
			// shuzu1 =1,2
			// shuzu2 =a,b,c
			// shuzu3 =千古,宿敌,南山,素颜
			// sz1 =1,2,a,b,c
			// sz2 =1,2,a,b,c,千古,宿敌,南山,素颜

			//join()
			//reverse()
			//sort()方法

			//数组去重
			var arrss = [1, 2, 3, 2, 2, 1, 3, 4, 2, 5];

			//获取数组每个元素
			for(var i = 0; i<arrss.length; i++){
				//获取当前元素的后面一个元素
				for(var j = i+1; j<arrss.length; j++){
					if(arrss[i]==arrss[j]){
						arrss.splice(j,1);//删除了当前j所在的元素以后，后边的元素会自动补位
						j--;
					}
				}
			}
			console.log("去重后的数组："+arrss);//1,2,3,4,5

			




		</script>
	</body>
</html>
