<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>深入理解 函数、匿名函数、自执行函数、闭包</title>
</head>

<body>
	<script>
		//  1：函数的声明
		//  2：函数表达式
		//  3.匿名函数的调用方式
		//  4.js立即执行函数与分组操作符()的用法
		//	5.闭包

		//1.函数的声明
		function sum(x, y) {
			alert(x + y);
		}
		sum(1, 2); //3

		//关于函数声明，它最重要的一个特征就是函数声明提升，意思是执行代码之前先读取函数声明。这意味着可以把函数声明放在调用它的语句之后。如下代码可以正确执行：
		sum1(1, 2); //3
		function sum1(x, y) {
			alert(x + y);
		}

		//2.函数表达式
		// 函数表达式中有几种不同的语法。最常见和最具代表性的一种如下代码所示:
		var ss = function (x, y) {
			alert(x + y);
		};
		ss(1, 2);//不能放到函数表达式前

		//函数表达式和函数声明的区别在于，函数表达式在使用前必须先赋值.无"函数声明提升"特征
		//造成这种现象是因为解析器在向执行环境中加载数据时，解析器会率先读取函数声明，并使其在执行任何代码前可用；至于函数表达式，则必须等到解析器执行到它的所在的的代码行，才会真正的被解析。
		//函数表达式中，创建的函数叫做匿名函数，因为function关键字后面没有标识符。

		//匿名函数，顾名思义就是没有名字的函数
		//上面的函数表达式中的创建，即创建一个匿名函数，并将匿名函数赋值给变量ss，用ss来进行函数的调用
		//调用的方式就是在变量ss后面加上一对括号()，如果有参数传入的话就是ss(1,2)，这就是匿名函数的一种调用方式。

		//3.匿名函数的调用方式
		// 1.变量() - 无参数 or 变量(参数列表) ，如ss(1,2)
		// 2.使用自调用函数:使用()将匿名函数括起来，然后后面再加一对小括号（包含参数列表）

		//分组操作符:()

		alert(function (x, y) { return x + y; }(2, 4));



		(function () {
			//这里是块级作用域
		})();

		//以上代码定义并立即调用了一个匿名函数。
		//经函数声明包含在一对圆括号中，表示它实际上是一个函数表达式。而紧随其后的另一对圆括号会立即调用这个函数。

		//function(){ /* code */ }(); 			错误=>function关键字=>函数声明的开始，函数声明后面不能加圆括号
		//function foo(){ /* code */ }(); 		错误=>分组操作符需要包含表达式
		//function foo(){ /* code */ }( 1 ); 	无异常，但是foo函数依然不会执行
		//等价于：
		// function foo(){ /* code */ } =>function声明
		// (1); 						=>声明了一个毫无关系的表达式

		//所以上面代码要是想要实现，就必须要实现赋值:
		//如a = function(){}()，"a="这个告诉了编译器这个是一个函数表达式，而不是函数的声明。因为函数表达式后面可以跟圆括号。所以下面两段代码是等价的。
		var aa = function (x) {
			alert(x);
		}(7);//7

		//等价于

		(function (x) { alert(x); }(7)); //7


		//4.js立即执行函数与分组操作符()的用法
		//圆括号运算符
		//圆括号运算符也叫分组运算符，它有两种用法：
		//	1.如果表达式放在圆括号中，作用是求值；
		//	2.如果跟在函数后面，作用是调用函数

		//把表达式放在圆括号之中，将返回表达式的值:
		console.log((1)); //1
		console.log(('a')); //'a'
		console.log((1 + 2)); // 3
		//把对象放在圆括号之中，则会返回对象的值，即对象本身:
		var o = { p: 1 };
		console.log((o));//Object {p: 1}
		//将函数放在圆括号中，会返回函数本身。如果圆括号紧跟在函数的后面，就表示调用函数，即对函数求值:
		function f() { return 1; }
		console.log(f);// function f(){return 1;}
		console.log(f());//1
		console.log((f));// function f(){return 1;}
		console.log(f()); //1
			//由于圆括号的作用是求值，如果将语句放在圆括号之中，就会报错，因为语句没有返回值
			//console.log(var a = 0); // SyntaxError: Unexpected token var
			//console.log((var a = 1)); // SyntaxError: Unexpected token var




			//5.闭包
			//https://blog.csdn.net/xixiruyiruyi/article/details/54646143



	</script>

</body>

</html>