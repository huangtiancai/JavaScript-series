!function(n){"use strict";var o=function(t,e){this.options=e,this.$element=n(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",n.proxy(this.hide,this))};function i(t){this.$element.hide().trigger("hidden"),s.call(this)}function s(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=n.support.transition&&e;this.$backdrop=n('<div class="modal-backdrop '+e+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(n.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(n.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,n.proxy(a,this)):a.call(this)):t&&t()}function a(){this.$backdrop.remove(),this.$backdrop=null}function d(){var e=this;this.isShown&&this.options.keyboard?n(document).on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||n(document).off("keyup.dismiss.modal")}o.prototype={constructor:o,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this;this.isShown||(n("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),d.call(this),s.call(this,function(){var t=n.support.transition&&e.$element.hasClass("fade");!e.$element.parent().length&&e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in"),t?e.$element.one(n.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(t){if(t&&t.preventDefault(),this.isShown){this.isShown=!1,n("body").removeClass("modal-open"),d.call(this),this.$element.trigger("hide").removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?function(){var t=this,e=setTimeout(function(){t.$element.off(n.support.transition.end),i.call(t)},500);this.$element.one(n.support.transition.end,function(){clearTimeout(e),i.call(t)})}.call(this):i.call(this)}}},n.fn.modal=function(s){return this.each(function(){var t=n(this),e=t.data("modal"),i=n.extend({},n.fn.modal.defaults,t.data(),"object"==typeof s&&s);e||t.data("modal",e=new o(this,i)),"string"==typeof s?e[s]():i.show&&e.show()})},n.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},n.fn.modal.Constructor=o,n(function(){n("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e,i=n(this),s=n(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("modal")?"toggle":n.extend({},s.data(),i.data());t.preventDefault(),s.modal(o)})})}(window.jQuery);