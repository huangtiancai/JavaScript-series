<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="js/jquery-1.8.3.js"></script>
    <script src="js/axios.min.js"></script>
</head>

<body>
    <script>
        let promise = new Promise(function (resolve, reject) {
            // 异步
            $.ajax({
                url: 'data/1.txt',
                dataType: 'json',
                success: function (arr) {
                    resolve(arr);
                },
                error: function (res) {
                    reject(res);
                }
            })
        });

        let promise2 = new Promise((resolve, reject) => {
            // 异步
            axios.get('data/1.txt')
                .then(res => {
                    resolve(res.data);  // res.data 也可以在then方法中取
                }).catch(err => {
                    console.log(err);
                })
        });

        // 调用promise的then()
        promise.then(function (res) {
            console.log('ajax成功了');
            console.log(res);
        }, function () {
            console.log('失败了');
        });

        // 调用promise2的then()
        promise2.then((res) => {
            console.log('axios成功了');
            console.log(res);
        }, () => {
            console.log('失败了');
        });


        // 本地文件路径使用ajax会报错，需要服务器环境
    </script>
</body>

</html>