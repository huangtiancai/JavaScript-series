<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>jQuery - AJAX post()方法</title>
    <script type="text/javascript" src="js/jquery-1.8.3.js"></script>
</head>

<body>

    <button>向页面发送 HTTP AJAX 请求，并获得返回的结果</button>
    
    <script>
        //定义和用法
        //ajax() 方法通过 HTTP 请求加载远程数据
        //该方法是 jQuery 底层 AJAX 实现。简单易用的高层实现见 $.get, $.post 等
        //$.ajax() 返回其创建的 XMLHttpRequest 对象。

        //type:类型：String   默认值: "GET")。请求方式 ("POST" 或 "GET")， 默认为 "GET"。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。
        //async:类型：Boolean 默认值: true。默认设置下，所有请求均为异步请求。
        //url:类型：String    默认值: 当前页地址。发送请求的地址。
        //data:类型：String    发送到服务器的数据。将自动转换为请求字符串格式。


        //dataType:类型：String 预期服务器返回的数据类型
        // "xml":    返回 XML 文档，可用 jQuery 处理。
        // "html":   返回纯文本 HTML 信息；包含的 script 标签会在插入 dom 时执行。
        // "script": 返回纯文本 JavaScript 代码。不会自动缓存结果。除非设置了 "cache" 参数。注意：在远程请求时(不在同一个域下)，所有 POST 请求都将转为 GET 请求。（因为将使用 DOM 的script标签来加载）
        // "json":   返回 JSON 数据 。
        // "jsonp":  JSONP 格式。使用 JSONP 形式调用函数时，如 "myurl?callback=?" jQuery 将自动替换 ? 为正确的函数名，以执行回调函数。
        // "text":   返回纯文本字符串

        //success:类型：Function     function(){} 请求成功后的回调函数。
        //error:类型：Function

        //语法：
        //格式： $.ajax({name:value, name:value, ... }) 
        //可能的名称/值
        //$.ajax(type,async,url,data,dataType,callback);
        
        $(document).ready(function(){
            $('button').click(function(){
                $.ajax(
                    {
                        type:'post',
                        async:true,
                        url:'http://127.0.0.1:8080/ServerInterface/serverInterface',
                        data:{
                            username:'tom',
                            city:'beijing'
                        },
                        success:function(result,status,xhr){//请求成功后的回调函数
                             //alert('数据：'+result+'\n状态：'+status+'\nxhr:'+xhr);
                             alert(result);
                        }
                    }
                );
            });
        });



    </script>
</body>

</html>
